var Slim=Slim||{};Slim.Router=function(){function t(t,e){this.basePath=t,this.routes=e}t.prototype.pathFor=function(t,e,o){var r=this.relativePathFor(t,e,o);return this.basePath&&(r=this.basePath+r),r},t.prototype.relativePathFor=function(t,e,o){if(null===this.routes||void 0===this.routes[t])throw'Unknown route "'+t+'"';var r,n,i,s,h,a,u=[].concat(this.routes[t]).reverse(),f=[];for(r=0;r<u.length;++r){for(i=u[r],n=0;n<i.length;++n)if("string"!=typeof(s=i[n])){if(!e||void 0===e[s[0]]){f=[],h=s[0];break}f.push(e[s[0]])}else f.push(s);if(f.length>0)break}if(0===f.length)throw'Missing data for URL segment: "'+h+'"';a=f.join("");var l="";if(o)for(r in o)l+=(""===l?"?":"&")+encodeURIComponent(r)+"="+encodeURIComponent(o[r]);return a+l};return new t(<?php print json_encode($basePath); ?>,<?php print json_encode($routes); ?>)}();
